<html>

<head>
<title>Tytuł strony</title>
<link rel="stylesheet" href="style.css" type="text/css" />
<link href='https://fonts.googleapis.com/css?family=Dosis' rel='stylesheet' type='text/css'>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">
</head>

<body>
<div class="main-container">
<div class="logo-container">
    <center><img src="logo.png"></img></center>
</div>




<div class="grid-container">

<div class="container2"><h2 class="column-header">OKOLICZNOŚCI <br> OGÓLNE</h2></div>
<div class="container">

	<div class="frontone side">
		<div class="content">
			<h1>KTO?</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="kto-input">
			<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>
	</div>
</div></div>
<div class="container">
	<div class="frontone side">
		<div class="content">
			<h1>CO?</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="co-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>
<div class="container">
	<div class="frontone side">
		<div class="content">
			<h1>KIEDY?</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="kiedy-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>
<div class="container">
	<div class="frontone side">
		<div class="content">
			<h1>GDZIE?</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="gdzie-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>
<div class="container">
	<div class="frontone side">
		<div class="content">
			<h1>JAK?</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="jak-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>
<div class="container">
	<div class="frontone side">
		<div class="content">
			<h1>DLACZEGO?</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="dlaczego-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>









<div class="container2"><h2 class="column-header">NARZĘDZIA <br> MENTALNE</h2></div>
<div class="container">
	<div class="fronttwo side">
		<div class="content">
			<h1>ZALETY WADY INTERESUJĄCE</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		 <input type="text" id="zwi-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>
<div class="container">
	<div class="fronttwo side">
		<div class="content">
			<h1>ALTERNATYWY MOŻLIWOŚCI WYBORY</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="amw-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>
<div class="container">
	<div class="fronttwo side">
		<div class="content">
			<h1>ROZWAŻ WSZYSTKIE CZYNNIKI</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="rwc-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>
<div class="container">
	<div class="fronttwo side">
		<div class="content">
			<h1>INNE PUNKTY WIDZENIA</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="ipw-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>
<div class="container">
	<div class="fronttwo side">
		<div class="content">
			<h1>PODSTAWOWE PRIORYTETY</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="pp-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>
<div class="container">
	<div class="fronttwo side">
		<div class="content">
			<h1>SKUTKI I NASTĘPSTWA</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="sin-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>











<div class="container2"><h2 class="column-header">UWARUNKOWANIA <br> SZCZEGÓŁOWE</h2></div>
<div class="container">
	<div class="frontthree side">
		<div class="content">
			<h1>LUDZIE</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="ludzie-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>
<div class="container">
	<div class="frontthree side">
		<div class="content">
			<h1>PRZESZKODY</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="przeszkody-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>
<div class="container">
	<div class="frontthree side">
		<div class="content">
			<h1>PROGNOZA</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="prognoza-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>
<div class="container">
	<div class="frontthree side">
		<div class="content">
			<h1>TEREN</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="teren-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>
<div class="container">
	<div class="frontthree side">
		<div class="content">
			<h1>ZASOBY</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="zasoby-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>
<div class="container">
	<div class="frontthree side">
		<div class="content">
			<h1>RYZYKO</h1>
		</div>
	</div>
	<div class="back side">
		<div class="content">
		<input type="text" id="ryzyko-input">
<i class="fas fa-info-circle" data-toggle="modal" data-target="#exampleModal"></i>	</div>
</div></div>





</div></div>


<div class="generate-plan">
    <button id="generate-button">Generuj plan</button>
</div>

<div class="plan">
    <!-- Tutaj pojawi się wygenerowany plan -->
</div>

</div>

</body>
<script>$('#exampleModal').on('show.bs.modal', function (event) {
  var button = $(event.relatedTarget) // Button that triggered the modal
  var recipient = button.data('whatever') // Extract info from data-* attributes
  // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
  // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
  var modal = $(this)
  modal.find('.modal-title').text('New message to ' + recipient)
  modal.find('.modal-body input').val(recipient)
})</script>

	<script>
// Pobierz wszystkie kontenery
var containers = document.querySelectorAll('.container');


// Dodaj zdarzenie kliknięcia do każdego kontenera
for (var i = 0; i < containers.length; i++) {
    containers[i].addEventListener('click', function() {
        // Dodaj klasę 'flipped' do kontenera po kliknięciu
        this.classList.toggle('flipped');
    });
}
var inputs = document.querySelectorAll('input');

// Dodaj zdarzenie kliknięcia do każdego inputa
for (var i = 0; i < inputs.length; i++) {
    inputs[i].addEventListener('click', function(event) {
        // Zatrzymaj propagację zdarzenia
        event.stopPropagation();
    });
}		
// Twój klucz API OpenAI
const OPENAI_API_KEY = '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';

// Twój endpoint API OpenAI
const OPENAI_API_URL = 'https://api.openai.com/v1/engines/davinci-codex/completions';

// Tworzenie kart z wskaźnikami mentalnymi
const indicators = [
    { id: 'kto', prompt: 'Osoba zaangażowana w sytuację to {INPUT}. Jakie kroki powinna podjąć?' },
    { id: 'co', prompt: 'Zadanie do wykonania to {INPUT}. Jakie są potencjalne strategie do jego realizacji?' },
    { id: 'kiedy', prompt: 'Zadanie powinno zostać wykonane {INPUT}. Jakie są kluczowe kroki do podjęcia w tym czasie?' },
    { id: 'gdzie', prompt: 'Zadanie ma być wykonane w miejscu {INPUT}. Jakie są specyficzne dla tego miejsca czynniki do rozważenia?' },
    { id: 'jak', prompt: 'Metoda do zastosowania to {INPUT}. Jakie są szczegółowe kroki do wykonania tej metody?' },
    { id: 'dlaczego', prompt: 'Celem jest {INPUT}. Jakie kroki powinny być podjęte, aby osiągnąć ten cel?' },
    { id: 'zalety', prompt: 'Zalety to {INPUT}. Jakie kroki powinny być podjęte, biorąc pod uwagę te czynniki?' },
    { id: 'wady', prompt: 'Wady to {INPUT}. Jakie kroki powinny być podjęte, biorąc pod uwagę te czynniki?' },
    { id: 'interesujące', prompt: 'Interesujące aspekty to {INPUT}. Jakie kroki powinny być podjęte, biorąc pod uwagę te czynniki?' },
    { id: 'alternatywy', prompt: 'Dostępne alternatywy to {INPUT}. Jakie są potencjalne skutki każdej z tych opcji?' },
    { id: 'możliwości', prompt: 'Możliwości to {INPUT}. Jakie są potencjalne skutki każdej z tych opcji?' },
    { id: 'wybory', prompt: 'Wybory to {INPUT}. Jakie są potencjalne skutki każdej z tych opcji?' },
    { id: 'czynniki', prompt: 'Wszystkie czynniki do rozważenia to {INPUT}. Jakie kroki powinny być podjęte, biorąc pod uwagę te czynniki?' },
    { id: 'punkty_widzenia', prompt: 'Inne punkty widzenia to {INPUT}. Jak te perspektywy mogą wpłynąć na plan działania?' },
    { id: 'priorytety', prompt: 'Podstawowe priorytety to {INPUT}. Jakie kroki powinny być podjęte, aby sprostać tym priorytetom?' },
    { id: 'skutki', prompt: 'Potencjalne skutki i następstwa to {INPUT}. Jakie kroki powinny być podjęte, aby zarządzać tymi skutkami?' },
    { id: 'ludzie', prompt: 'Ludzie zaangażowani to {INPUT}. Jakie kroki powinny być podjęte, biorąc pod uwagę ich role i cele?' },
    { id: 'przeszkody', prompt: 'Potencjalne przeszkody to {INPUT}. Jakie kroki powinny być podjęte, aby je pokonać?' },
    { id: 'prognoza', prompt: 'Prognoza dla sytuacji to {INPUT}. Jakie kroki powinny być podjęte, biorąc pod uwagę te przewidywania?' },
    { id: 'teren', prompt: 'Teren, na którym sytuacja ma miejsce, to {INPUT}. Jakie kroki powinny być podjęte, biorąc pod uwagę specyfikę tego terenu?' },
    { id: 'zasoby', prompt: 'Dostępne zasoby to {INPUT}. Jakie kroki powinny być podjęte, aby optymalnie wykorzystać te zasoby?' },
    { id: 'ryzyko', prompt: 'Potencjalne ryzyko to {INPUT}. Jakie kroki powinny być podjęte, aby zarządzać tym ryzykiem?' }
];

const container = document.getElementById('grid-container');

indicators.forEach(indicator => {
    const card = document.createElement('div');
    card.className = 'container';

    const front = document.createElement('div');
    front.className = 'frontone side';

    const frontContent = document.createElement('div');
    frontContent.className = 'content';
    frontContent.textContent = indicator.prompt;

    front.appendChild(frontContent);

    const back = document.createElement('div');
    back.className = 'back side';

    const backContent = document.createElement('div');
    backContent.className = 'content';

    const input = document.createElement('input');
    input.type = 'text';
    input.id = indicator.id;

    backContent.appendChild(input);
    back.appendChild(backContent);

    card.appendChild(front);
    card.appendChild(back);
    container.appendChild(card);
});

// Generowanie planu
document.getElementById('generate-plan').addEventListener('click', async () => {
    const plan = document.getElementById('plan');

    let finalPrompt = 'Na podstawie wszystkich informacji, które otrzymałeś - ';

    for (const indicator of indicators) {
        const userInput = document.getElementById(indicator.id).value;
        const prompt = indicator.prompt.replace('{INPUT}', userInput);

        const response = await fetch(OPENAI_API_URL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${OPENAI_API_KEY}`
            },
            body: JSON.stringify({ prompt: prompt, max_tokens: 100 })
        });

        const data = await response.json();
        finalPrompt += data.choices[0].text + ' ';
    }

    finalPrompt += '- stwórz bardzo szczegółowy i rozbudowany plan działania. Plan powinien zawierać konkretne kroki, które muszą zostać podjęte, z uwzględnieniem wszystkich czynników, które zostały omówione. Każdy krok powinien zawierać jasne wytyczne dotyczące tego, co ma być zrobione, kto ma to zrobić, kiedy ma to być zrobione i jakie zasoby są potrzebne. Plan powinien również uwzględniać potencjalne przeszkody i ryzyka, a także strategie na ich pokonanie. Proszę, aby plan był jak najbardziej kompleksowy i przemyślany, z uwzględnieniem wszystkich możliwych scenariuszy i warunków.';

    const finalResponse = await fetch(OPENAI_API_URL, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${OPENAI_API_KEY}`
        },
        body: JSON.stringify({ prompt: finalPrompt, max_tokens: 500 })
    });

    const finalData = await finalResponse.json();
    plan.textContent = finalData.choices[0].text;
});
</script>

</html>
